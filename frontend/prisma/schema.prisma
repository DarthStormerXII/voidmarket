generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Star {
  id             String   @id @default(uuid())
  name           String   @unique
  walletAddress  String
  telegramId     String?
  circleWalletId String?
  starType       String
  description    String?
  clusterId      String?
  totalPhotons   Int      @default(0)
  betsWon        Int      @default(0)
  betsLost       Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([walletAddress])
  @@index([telegramId])
}

model MarketMetadata {
  id           String   @id @default(uuid())
  onChainId    Int      @unique
  name         String   @unique
  category     String   @default("custom")
  oracleType   String   @default("manual")
  oracleSource String?
  creatorName  String?
  createdAt    DateTime @default(now())

  @@index([category])
}

model ClusterMetadata {
  id          String   @id @default(uuid())
  onChainId   Int      @unique
  name        String   @unique
  description String?
  avatarUrl   String?
  createdAt   DateTime @default(now())
}
