# VoidMarket Submission

## Description

VoidMarket is a private prediction market platform built as a Telegram MiniApp on Arc Testnet, where bets are hidden until market resolution using a commit-reveal scheme. Users create markets on any topic (crypto prices, sports, politics, culture), place bets by committing a salted hash of their position, and only reveal after the market resolves — preventing last-minute copying and information leakage. The platform features a team-based competitive layer called "Clusters" (groups of bettors) and "Novas" (1v1 cluster battles with prize pools). All markets and bets settle in USDC on Arc Testnet (where USDC is the native currency with 18 decimals), with gasless UX powered by Circle Developer Wallets — users never need to hold gas tokens. The ENS identity layer gives every entity a human-readable name: users are `username.voidmarket.eth`, markets are `slug.voidmarket.eth`, and clusters are `name.voidmarket.eth`, all resolved via an off-chain CCIP-Read gateway. Cross-chain deposits from Ethereum, Base, and Arbitrum Sepolia are supported via Circle CCTP bridging. The result is a prediction market where your position stays private until resolution, teams compete for bragging rights, and everything is addressable via ENS.

## How it's made

The frontend is a Next.js 15 app designed as a Telegram MiniApp using @telegram-apps/sdk-react for native Telegram integration (theme, viewport, back button, haptic feedback). Smart contracts are written in Solidity and deployed on Arc Testnet (chain ID 5042002) using Foundry: VoidMarketCore handles market creation, commit-reveal betting, resolution, and winnings claims; ClusterManager handles team creation, invitations, and photon (reputation) tracking; NovaManager handles 1v1 cluster battles with prize pools; and VoidMarketResolver implements ENS CCIP-Read (EIP-3668) for off-chain name resolution. The commit-reveal scheme works by having users submit keccak256(abi.encodePacked(betOption, salt)) during the betting period, then revealing the plaintext after resolution — the contract verifies the hash matches. Circle Developer Wallets provide gasless UX: wallets are created server-side via Circle's API using Telegram user IDs as deterministic refIDs, and the server signs transactions on behalf of users so they never need ETH for gas. The ENS gateway is a separate Express server with Prisma/PostgreSQL that responds to CCIP-Read queries from the VoidMarketResolver contract on Sepolia — it resolves addr(), text(), and contenthash() records by looking up stars, markets, and clusters in the database and returning signed responses. Cross-chain deposits use Circle CCTP to bridge USDC from Sepolia, Base Sepolia, and Arbitrum Sepolia to Arc Testnet. The Supabase backend stores market metadata (category, description, image), star profiles, and cluster metadata with starred markets tracking.
